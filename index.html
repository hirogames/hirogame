<!DOCTYPE html>
<html lang="fr">

<head>
    <!-- Encodage des caract√®res pour √©viter les probl√®mes d'affichage -->
    <meta charset="UTF-8">
    <!-- Adaptation du contenu pour tous les types d'√©crans -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titre de l'onglet de la page -->
    <title>HIRO GAME</title>

    <!-- Int√©gration des polices Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=New+Amsterdam:wght@400&family=Press+Start+2P&display=swap"
        rel="stylesheet">

    <!-- Lien vers la feuille de style CSS externe -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Conteneur du titre -->
    <div class="title-container">
        <h1 id="title">HIRO GAME</h1>
    </div>

    <!-- Conteneur pour le lecteur YouTube -->
    <div id="youtube-player"></div>

    <!-- Conteneur principal du jeu -->
    <div class="game-container">
        <!-- Barre de progression -->
        <div class="progress-bar">
            <div id="progress" class="progress"></div>
        </div>

        <!-- Affichage du d√©fi -->
        <div id="challenge-display" class="challenge-display">
            Cliquez sur le bouton pour un d√©fi !
        </div>

        <!-- Contr√¥les de navigation -->
        <div class="controls">
            <button id="prev-challenge-btn" class="btn">&lt;</button>
            <span id="challenge-counter">0/20</span>
            <button id="next-challenge-btn" class="btn">&gt;</button>
        </div>

        <!-- Bouton Rejouer (cach√© par d√©faut) -->
        <button id="replay-btn" class="btn" style="display: none;">Rejouer</button>
    </div>

    <!-- Conteneur pour les emojis (animations) -->
    <div id="emoji-container"></div>

    <!-- Scripts JavaScript -->

    <!-- Chargement de l'API YouTube Iframe -->
    <script>
        // Cr√©ation de l'√©l√©ment <script> pour charger l'API YouTube
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // Variable pour stocker l'instance du lecteur YouTube
        var player;

        // Fonction appel√©e lorsque l'API YouTube est pr√™te
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', // Hauteur r√©duite pour masquer la vid√©o
                width: '0',  // Largeur r√©duite pour masquer la vid√©o
                videoId: 'Aqd9omqj_0Q', // Remplacer par l'ID de la vid√©o YouTube
                playerVars: {
                    'autoplay': 1,       // Activer l'autoplay
                    'controls': 0,       // Masquer les contr√¥les
                    'showinfo': 0,       // Masquer les informations de la vid√©o
                    'modestbranding': 1, // R√©duire la marque YouTube
                    'loop': 1,           // Activer la boucle de la vid√©o
                    'playlist': 'Aqd9omqj_0Q', // Obligatoire pour boucler, identique √† videoId
                    'mute': 0            // Ne pas couper le son
                },
                events: {
                    'onReady': onPlayerReady // Appeler la fonction onPlayerReady lorsque le lecteur est pr√™t
                }
            });
        }

        // Fonction appel√©e lorsque le lecteur est pr√™t
        function onPlayerReady(event) {
            event.target.playVideo(); // Lancer la lecture de la vid√©o
        }
    </script>

    <!-- Biblioth√®que pour les confettis -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Fonction pour animer les emojis -->
    <script>
        // Liste des emojis
        const emojis = ['üéâ', 'üéä', 'üéà', 'ü•≥', 'üí•', 'üçæ', 'ü•Ç', 'üçª', 'üçπ', 'üç∏'];

        // Fonction pour animer les emojis
        function releaseEmojis() {
            const emojiContainer = document.getElementById('emoji-container');
            for (let i = 0; i < 50; i++) { // Augmentez le nombre pour plus d'emojis
                const emoji = document.createElement('div');
                emoji.className = 'emoji';
                emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = `${Math.random() * 100}%`;
                emoji.style.animationDuration = `${Math.random() * 2 + 3}s`; // Dur√©e de l'animation al√©atoire
                emojiContainer.appendChild(emoji);

                // Retire l'emoji apr√®s l'animation
                emoji.addEventListener('animationend', () => {
                    emoji.remove();
                });
            }
        }

        // Ajout d'un √©v√©nement sur le clic du titre pour d√©clencher les emojis
        document.getElementById('title').addEventListener('click', releaseEmojis);
    </script>
    
    <!-- Script principal du jeu -->
    <script src="script.js"></script>
</body>

</html>
